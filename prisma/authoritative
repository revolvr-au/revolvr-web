model StripeEvent {
  id        String   @id // stripe event.id
  type      String
  createdAt DateTime @default(now())
}

model Payment {
  id                    String   @id // Stripe Checkout Session ID (cs_...)
  stripeEventId         String   @unique
  stripePaymentIntentId String
  stripeSessionId       String?
  creatorId             String
  sessionId             String?
  type                  String
  amountGross           Int
  amountCreator         Int
  amountPlatform        Int
  currency              String
  status                String
  createdAt             DateTime @default(now())
}


model CreatorBalance {
  creatorId        String  @id
  pendingBalance   Int     @default(0)
  availableBalance Int     @default(0)
  lifetimeEarned   Int     @default(0)
  updatedAt        DateTime @updatedAt
}

model CreatorPayout {
  id               String   @id @default(uuid())
  creatorId        String
  amount           Int
  stripeTransferId String
  status           String   // pending | completed | failed
  createdAt        DateTime @default(now())
}
